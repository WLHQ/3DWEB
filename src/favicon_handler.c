#include "handlers.h"

int	is_favicon_request(http_request *request)
{
	return strcmp(request->path, "/favicon.ico") == 0;
}

http_response *get_favicon_icon(http_request *request)
{
	http_response *response = memalloc(sizeof(http_response));
	response->code = 200;
	response->content_type = strdup("Content-Type: image/svg+xml\n");
	char	*payload = memalloc(1024 * sizeof(char));
	sprintf(payload, "<?xml version='1.0' standalone='no'?> <!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 20010904//EN' 'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'> <svg version='1.0' xmlns='http://www.w3.org/2000/svg' width='200.000000pt' height='200.000000pt' viewBox='0 0 200.000000 200.000000' preserveAspectRatio='xMidYMid meet'> <g transform='translate(0.000000,200.000000) scale(0.100000,-0.100000)' fill='#000000' stroke='none'> <path d='M409 1685 c-14 -7 -30 -25 -37 -39 -8 -19 -12 -190 -12 -631 l0 -605 29 -33 29 -32 582 0 582 0 29 32 29 33 0 606 c0 657 0 647 -55 672 -41 19 -1141 16 -1176 -3z m1168 -48 c16 -16 18 -44 21 -282 l3 -265 -138 0 -138 0 3 260 3 260 -328 -2 -328 -3 -3 -249 c-2 -193 1 -251 10 -258 7 -4 -53 -8 -134 -8 l-148 0 0 249 c0 140 4 261 10 276 5 14 20 30 32 35 13 5 254 8 570 7 510 -2 549 -3 565 -20z m-267 -282 l0 -235 -310 0 -310 0 0 235 0 235 310 0 310 0 0 -235z m-780 -330 c0 -11 -13 -15 -54 -15 -51 0 -74 9 -59 24 3 3 30 6 60 6 40 0 53 -4 53 -15z m930 0 c0 -13 -57 -15 -455 -15 -398 0 -455 2 -455 15 0 13 57 15 455 15 398 0 455 -2 455 -15z m120 0 c0 -11 -12 -15 -50 -15 -38 0 -50 4 -50 15 0 11 12 15 50 15 38 0 50 -4 50 -15z m18 -315 c1 -135 0 -255 -3 -267 -13 -55 10 -53 -593 -53 -306 0 -562 4 -568 8 -30 20 -34 55 -34 300 0 137 3 252 7 255 3 4 272 6 597 5 l591 -3 3 -245z'/> <path d='M480 1370 c0 -5 5 -10 11 -10 5 0 7 5 4 10 -3 6 -8 10 -11 10 -2 0 -4 -4 -4 -10z'/> <path d='M575 1370 c-3 -5 -1 -10 4 -10 6 0 11 5 11 10 0 6 -2 10 -4 10 -3 0 -8 -4 -11 -10z'/> <path d='M1410 1370 c0 -5 5 -10 11 -10 5 0 7 5 4 10 -3 6 -8 10 -11 10 -2 0 -4 -4 -4 -10z'/> <path d='M1505 1370 c-3 -5 -1 -10 4 -10 6 0 11 5 11 10 0 6 -2 10 -4 10 -3 0 -8 -4 -11 -10z'/> <path d='M737 1553 c-4 -3 -7 -93 -7 -198 0 -151 3 -195 14 -204 9 -8 88 -11 267 -9 l254 3 0 205 0 205 -261 3 c-143 1 -263 -1 -267 -5z'/> <path d='M675 917 c-3 -7 -4 -123 -3 -257 l3 -245 325 0 325 0 0 255 0 255 -323 3 c-255 2 -324 0 -327 -11z m635 -242 l0 -235 -310 0 -310 0 0 235 0 235 310 0 310 0 0 -235z'/> <path d='M737 873 c-4 -3 -7 -93 -7 -198 0 -151 3 -195 14 -204 9 -8 88 -11 267 -9 l254 3 0 205 0 205 -261 3 c-143 1 -263 -1 -267 -5z'/> <path d='M1439 851 c-25 -20 -21 -44 10 -61 29 -15 66 21 52 49 -15 28 -37 32 -62 12z m41 -26 c0 -8 -7 -15 -15 -15 -8 0 -15 7 -15 15 0 8 7 15 15 15 8 0 15 -7 15 -15z'/> <path d='M500 795 c0 -20 -5 -25 -25 -25 -22 0 -25 -4 -25 -35 0 -31 3 -35 25 -35 20 0 25 -5 25 -25 0 -22 4 -25 35 -25 31 0 35 3 35 25 0 20 5 25 25 25 22 0 25 4 25 35 0 31 -3 35 -25 35 -20 0 -25 5 -25 25 0 22 -4 25 -35 25 -31 0 -35 -3 -35 -25z m52 -30 c2 -12 13 -21 26 -23 30 -5 28 -22 -3 -22 -20 0 -25 -5 -25 -25 0 -16 -6 -25 -15 -25 -9 0 -15 9 -15 25 0 20 -5 25 -25 25 -14 0 -25 5 -25 10 0 6 9 10 20 10 11 0 23 7 25 15 3 8 7 23 10 32 7 19 21 7 27 -22z'/> <path d='M1368 780 c-25 -20 -19 -43 16 -64 14 -9 21 -6 36 12 35 43 -10 87 -52 52z m42 -25 c0 -8 -7 -15 -15 -15 -8 0 -15 7 -15 15 0 8 7 15 15 15 8 0 15 -7 15 -15z'/> <path d='M1510 780 c-17 -17 -18 -24 -10 -41 17 -31 41 -35 61 -10 34 42 -14 88 -51 51z m40 -25 c0 -8 -7 -15 -15 -15 -8 0 -15 7 -15 15 0 8 7 15 15 15 8 0 15 -7 15 -15z'/> <path d='M1452 723 c-7 -3 -17 -14 -23 -25 -8 -15 -7 -24 7 -39 22 -25 39 -24 58 3 23 32 -6 73 -42 61z m28 -38 c0 -8 -7 -15 -15 -15 -8 0 -15 7 -15 15 0 8 7 15 15 15 8 0 15 -7 15 -15z'/> <path d='M1370 565 c0 -8 7 -15 15 -15 8 0 15 7 15 15 0 8 -7 15 -15 15 -8 0 -15 -7 -15 -15z'/> <path d='M1372 494 c4 -21 22 -23 26 -1 2 10 -3 17 -13 17 -10 0 -15 -6 -13 -16z'/> </g> </svg>");
	response->payload = payload;
     response->payload_len = strlen(response->payload);
	return response;
}
//This could use of checking the userstring for clues to send the right file.
